extends layout

block content
	each post, i in posts
		#content-card
			.heading(style="display:inline") #{post.start.NameForShort} â†’ #{post.end}
			div(class="feedCost", id="cost#{post._id}")
			div(id="map#{post._id}", style="width:100%;height:30vh;margin:auto;")
			script.
				$('#map#{post._id}')
				.gmap3({
					zoom: 5,
					mapTypeId : google.maps.MapTypeId.ROADMAP
				})
				.route({
					origin:"#{post.address}",
					destination:"#{post.end}",
					travelMode: google.maps.DirectionsTravelMode.DRIVING,
					unitSystem: google.maps.UnitSystem.METRIC
				})
				.directionsrenderer(function (results) {
					if (results) 
					{
						return {
							panel: "#box",
							directions: results
						}
					}
				});
			#driver #{post.driver}
			a(href="/post/#{post._id}") Direct Link
			script.
				var value = numeral(#{post.cost}).format('$0,0.00');
				document.getElementById("cost#{post._id}").innerHTML = value;
			form#formAddPost(name="requestride",method="post",action="/requestRide")
				input#btnSubmit(type="submit", value="Request a Ride")
			
